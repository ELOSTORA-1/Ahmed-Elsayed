#!/bin/bash

# Check disk usage of the root partition
usage=$(df -h / | awk 'NR==2 {print $5}' | tr -d '%')

# If usage is 100%, proceed
if [ "$usage" -ge 100 ]; then
    echo "⚠️ Root partition is at 100% usage."

    echo -e "\n📁 Directories larger than 1GB in /:"
    du -h --max-depth=1 / | awk '$1 ~ /[0-9\.]+G/'

    echo -e "\n📄 Files larger than 1GB in /:"
    find / -xdev -type f -size +1G -exec ls -lh {} \; 2>/dev/null | awk '{ print $9 ": " $5 }'
else
    echo "✅ Root partition usage is at ${usage}%."
fi
